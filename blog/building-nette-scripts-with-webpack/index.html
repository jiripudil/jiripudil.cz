<!DOCTYPE html><html lang="en"> <head><meta charset="UTF-8"><meta name="viewport" content="width=device-width"><title>Building Nette scripts with Webpack – Blog – Jiří Pudil</title><style>.body[data-astro-cid-relfimn4]{padding:1.5rem 0}h1[data-astro-cid-relfimn4]{text-wrap:balance}.metadata[data-astro-cid-relfimn4]{display:flex;align-items:start;justify-content:space-between;gap:1rem;margin-bottom:3rem;ul{margin:0;padding:0;list-style:none;display:flex;flex-wrap:wrap;gap:0 .5rem;font-size:.9rem;a{color:var(--body-diminished-color);&:hover{color:var(--body-text-color)}}}time{flex-shrink:0;color:var(--body-diminished-color)}}.perex[data-astro-cid-relfimn4]{font-size:1.15rem}.content[data-astro-cid-relfimn4]{h2{margin-top:3rem}h3{margin-top:2.25rem}p{text-wrap:pretty;hyphens:auto}:is(ul,ol) li{line-height:1.6;margin-bottom:.5rem}blockquote{position:relative;&:before{content:"“";position:absolute;left:-2.25rem;top:0;color:var(--body-accent-color);font-size:4rem}}img{max-width:100%;height:auto}iframe{max-width:100%;aspect-ratio:16 / 9}code{hyphens:none}.astro-code{margin:.5rem 0;padding:.5rem;font-size:.9rem;tab-size:4}}.comments[data-astro-cid-relfimn4]{margin-top:3rem}@media (max-width: 40rem){.metadata[data-astro-cid-relfimn4]{flex-direction:column;align-items:start;justify-content:start}}
</style><link rel="stylesheet" href="/_astro/about.BrkH-_VM.css"><meta name="generator" content="Astro v5.7.8"><meta name="theme-color" content="#fff" media="(prefers-color-scheme: light)"><meta name="theme-color" content="#242428" media="(prefers-color-scheme: dark)"><link rel="sitemap" href="/sitemap-index.xml"><link rel="alternate" type="application/rss+xml" title="Blog – Jiří Pudil" href="/blog/rss.xml"><link rel="alternate" type="application/rss+xml" title="Notes – Jiří Pudil" href="/notes/rss.xml"><link rel="webmention" href="https://webmention.io/jiripudil.cz/webmention"><meta name="google-site-verification" content="7fHBkeNq7LXO24W8IjCc37NT9MX-6RJxD3Co5F-bRQw"><meta property="og:site_name" content="Jiří Pudil"><meta property="og:title" content="Building Nette scripts with Webpack – Blog"><meta property="og:type" content="article"><meta property="article:published_time" content="2016-08-02T18:45:00.000Z"><meta property="article:tag" content="ajax"><meta property="article:tag" content="forms"><meta property="article:tag" content="frontend"><meta property="article:tag" content="gulp"><meta property="article:tag" content="javascript"><meta property="article:tag" content="nettefw"><meta property="article:tag" content="webpack"><link rel="manifest" href="/manifest.webmanifest"><meta name="mobile-web-app-capable" content="yes"><meta name="theme-color" media="(prefers-color-scheme: light)" content="#fff"><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#000"><meta name="application-name" content="Jiří Pudil"><link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png"><link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon-precomposed.png"><link rel="mask-icon" href="/safari-pinned-tab.svg" color="#fff"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-status-bar-style" content="black-translucent"><meta name="apple-mobile-web-app-title" content="Jiří Pudil"><link rel="icon" type="image/x-icon" href="/favicon.ico"><link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png"><link rel="icon" type="image/png" sizes="48x48" href="/favicon-48x48.png"><link rel="icon" type="image/svg+xml" href="/favicon.svg"><meta name="msapplication-TileColor" content="#fff"><meta name="msapplication-TileImage" content="/mstile-144x144.png"><meta name="msapplication-config" content="/browserconfig.xml"><link rel="yandex-tableau-widget" href="/yandex-browser-manifest.json"></head> <body> <div class="header" data-astro-cid-3ef6ksr2> <div class="container" data-astro-cid-d6puh33w>  <nav class="menu" data-astro-cid-3ef6ksr2> <ul data-astro-cid-3ef6ksr2> <li class="name" data-astro-cid-3ef6ksr2> <a href="/" title="Home" data-astro-cid-3ef6ksr2>
Jiří Pudil
</a> </li> <li data-astro-cid-3ef6ksr2> <a href="/about" data-astro-cid-3ef6ksr2>
About
</a> </li> <li data-astro-cid-3ef6ksr2> <a href="/projects" data-astro-cid-3ef6ksr2>
Projects
</a> </li> <li data-astro-cid-3ef6ksr2> <a href="/blog" class="active" data-astro-cid-3ef6ksr2>
Blog
</a> </li> <li data-astro-cid-3ef6ksr2> <a href="/notes" data-astro-cid-3ef6ksr2>
Notes
</a> </li> <li data-astro-cid-3ef6ksr2> <a href="/talks" data-astro-cid-3ef6ksr2>
Talks
</a> </li> </ul> </nav>  </div>  </div>    <div class="container" data-astro-cid-d6puh33w>  <div class="body" data-astro-cid-relfimn4> <h1 data-astro-cid-relfimn4>Building Nette scripts with Webpack</h1> <div class="metadata" data-astro-cid-relfimn4> <ul data-astro-cid-relfimn4> <li data-astro-cid-relfimn4><a href="/blog/tag/ajax" data-astro-cid-relfimn4>#ajax</a></li><li data-astro-cid-relfimn4><a href="/blog/tag/forms" data-astro-cid-relfimn4>#forms</a></li><li data-astro-cid-relfimn4><a href="/blog/tag/frontend" data-astro-cid-relfimn4>#frontend</a></li><li data-astro-cid-relfimn4><a href="/blog/tag/gulp" data-astro-cid-relfimn4>#gulp</a></li><li data-astro-cid-relfimn4><a href="/blog/tag/javascript" data-astro-cid-relfimn4>#javascript</a></li><li data-astro-cid-relfimn4><a href="/blog/tag/nettefw" data-astro-cid-relfimn4>#nettefw</a></li><li data-astro-cid-relfimn4><a href="/blog/tag/webpack" data-astro-cid-relfimn4>#webpack</a></li> </ul> <time datetime="2016-08-02T18:45:00.000Z" data-astro-cid-relfimn4> Aug 2, 2016 </time> </div> <p class="perex" data-astro-cid-relfimn4>Recently, in my bachelor's thesis, I've used extensively the whole Node.js and JavaScript ecosystem, including Webpack for bundling modules. And I love it. So there's no wonder I've tried setting it up in a classic Nette web application as well. Here goes a simple step-by-step example.</p> <div class="content" data-astro-cid-relfimn4> <p>If you wonder what Webpack is and what kind of cool tricks it can do for you, start by reading
<a href="http://blog.andrewray.me/webpack-when-to-use-and-why/">this post</a>.</p>
<h2 id="basic-setup">Basic setup</h2>
<p>The whole stack uses Webpack to build modules together and Gulp to run the tasks. Also, if you don’t have Node.js
(and NPM) installed, now is the best time to do it, we will need it right away, to get the build dependencies
(run this in the project’s root directory):</p>
<pre class="astro-code astro-code-themes OneLight OneDark" style="background-color:#FAFAFA;--shiki-dark-bg:#282C34;color:#383A42;--shiki-dark:#ABB2BF; overflow-x: auto;" tabindex="0" data-language="sh"><code><span class="line"><span style="color:#4078F2;--shiki-dark:#61AFEF">npm</span><span style="color:#50A14F;--shiki-dark:#98C379"> init</span><span style="color:#986801;--shiki-dark:#D19A66"> -y</span><span style="color:#383A42;--shiki-dark:#ABB2BF"> &#x26;&#x26; </span><span style="color:#4078F2;--shiki-dark:#61AFEF">npm</span><span style="color:#50A14F;--shiki-dark:#98C379"> install</span><span style="color:#986801;--shiki-dark:#D19A66"> --save</span><span style="color:#50A14F;--shiki-dark:#98C379"> gulp</span><span style="color:#50A14F;--shiki-dark:#98C379"> gulp-util</span><span style="color:#50A14F;--shiki-dark:#98C379"> webpack</span></span></code></pre>
<p>Create <code>gulpfile.js</code> with a single Webpack task:</p>
<pre class="astro-code astro-code-themes OneLight OneDark" style="background-color:#FAFAFA;--shiki-dark-bg:#282C34;color:#383A42;--shiki-dark:#ABB2BF; overflow-x: auto;" tabindex="0" data-language="js"><code><span class="line"><span style="color:#A626A4;--shiki-dark:#C678DD">var</span><span style="color:#383A42;--shiki-dark:#ABB2BF"> gulp </span><span style="color:#0184BC;--shiki-dark:#56B6C2">=</span><span style="color:#4078F2;--shiki-dark:#61AFEF"> require</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#50A14F;--shiki-dark:#98C379">'gulp'</span><span style="color:#383A42;--shiki-dark:#ABB2BF">);</span></span>
<span class="line"><span style="color:#A626A4;--shiki-dark:#C678DD">var</span><span style="color:#383A42;--shiki-dark:#ABB2BF"> gutil </span><span style="color:#0184BC;--shiki-dark:#56B6C2">=</span><span style="color:#4078F2;--shiki-dark:#61AFEF"> require</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#50A14F;--shiki-dark:#98C379">'gulp-util'</span><span style="color:#383A42;--shiki-dark:#ABB2BF">);</span></span>
<span class="line"><span style="color:#A626A4;--shiki-dark:#C678DD">var</span><span style="color:#383A42;--shiki-dark:#ABB2BF"> webpack </span><span style="color:#0184BC;--shiki-dark:#56B6C2">=</span><span style="color:#4078F2;--shiki-dark:#61AFEF"> require</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#50A14F;--shiki-dark:#98C379">'webpack'</span><span style="color:#383A42;--shiki-dark:#ABB2BF">);</span></span>
<span class="line"><span style="color:#A626A4;--shiki-dark:#C678DD">var</span><span style="color:#383A42;--shiki-dark:#ABB2BF"> webpackConfig </span><span style="color:#0184BC;--shiki-dark:#56B6C2">=</span><span style="color:#4078F2;--shiki-dark:#61AFEF"> require</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#50A14F;--shiki-dark:#98C379">'./webpack.config.js'</span><span style="color:#383A42;--shiki-dark:#ABB2BF">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">gulp.</span><span style="color:#4078F2;--shiki-dark:#61AFEF">task</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#50A14F;--shiki-dark:#98C379">'default'</span><span style="color:#383A42;--shiki-dark:#ABB2BF">, [</span><span style="color:#50A14F;--shiki-dark:#98C379">'webpack'</span><span style="color:#383A42;--shiki-dark:#ABB2BF">]);</span></span>
<span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">gulp.</span><span style="color:#4078F2;--shiki-dark:#61AFEF">task</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#50A14F;--shiki-dark:#98C379">'webpack'</span><span style="color:#383A42;--shiki-dark:#ABB2BF">, </span><span style="color:#A626A4;--shiki-dark:#C678DD">function</span><span style="color:#383A42;--shiki-dark:#ABB2BF"> (callback) {</span></span>
<span class="line"><span style="color:#4078F2;--shiki-dark:#61AFEF">	webpack</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(webpackConfig, </span><span style="color:#A626A4;--shiki-dark:#C678DD">function</span><span style="color:#383A42;--shiki-dark:#ABB2BF"> (err, stats) {</span></span>
<span class="line"><span style="color:#A626A4;--shiki-dark:#C678DD">		if</span><span style="color:#383A42;--shiki-dark:#ABB2BF"> (err) {</span></span>
<span class="line"><span style="color:#A626A4;--shiki-dark:#C678DD">			throw</span><span style="color:#A626A4;--shiki-dark:#C678DD"> new</span><span style="color:#383A42;--shiki-dark:#ABB2BF"> gutil.</span><span style="color:#4078F2;--shiki-dark:#61AFEF">PluginError</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#50A14F;--shiki-dark:#98C379">'webpack'</span><span style="color:#383A42;--shiki-dark:#ABB2BF">, err);</span></span>
<span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">		}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">		gutil.</span><span style="color:#4078F2;--shiki-dark:#61AFEF">log</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#50A14F;--shiki-dark:#98C379">'[webpack]'</span><span style="color:#383A42;--shiki-dark:#ABB2BF">, stats.</span><span style="color:#4078F2;--shiki-dark:#61AFEF">toString</span><span style="color:#383A42;--shiki-dark:#ABB2BF">({</span><span style="color:#E45649;--shiki-dark:#E06C75">colors</span><span style="color:#0184BC;--shiki-dark:#56B6C2">:</span><span style="color:#986801;--shiki-dark:#D19A66"> true</span><span style="color:#383A42;--shiki-dark:#ABB2BF">}));</span></span>
<span class="line"><span style="color:#4078F2;--shiki-dark:#61AFEF">		callback</span><span style="color:#383A42;--shiki-dark:#ABB2BF">();</span></span>
<span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">	});</span></span>
<span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">});</span></span></code></pre>
<p>and also a minimal <code>webpack.config.js</code> that configures some filesystem paths which you should change according to
your directory structure:</p>
<pre class="astro-code astro-code-themes OneLight OneDark" style="background-color:#FAFAFA;--shiki-dark-bg:#282C34;color:#383A42;--shiki-dark:#ABB2BF; overflow-x: auto;" tabindex="0" data-language="js"><code><span class="line"><span style="color:#A626A4;--shiki-dark:#C678DD">var</span><span style="color:#383A42;--shiki-dark:#ABB2BF"> path </span><span style="color:#0184BC;--shiki-dark:#56B6C2">=</span><span style="color:#4078F2;--shiki-dark:#61AFEF"> require</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#50A14F;--shiki-dark:#98C379">'path'</span><span style="color:#383A42;--shiki-dark:#ABB2BF">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">module</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#E45649;--shiki-dark:#E06C75">exports</span><span style="color:#0184BC;--shiki-dark:#56B6C2"> =</span><span style="color:#383A42;--shiki-dark:#ABB2BF"> {</span></span>
<span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">	cache</span><span style="color:#0184BC;--shiki-dark:#56B6C2">:</span><span style="color:#986801;--shiki-dark:#D19A66"> true</span><span style="color:#383A42;--shiki-dark:#ABB2BF">,</span></span>
<span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">	entry</span><span style="color:#0184BC;--shiki-dark:#56B6C2">:</span><span style="color:#383A42;--shiki-dark:#ABB2BF"> [path.</span><span style="color:#4078F2;--shiki-dark:#61AFEF">join</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(__dirname, </span><span style="color:#50A14F;--shiki-dark:#98C379">'www/js/index.js'</span><span style="color:#383A42;--shiki-dark:#ABB2BF">)],</span></span>
<span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">	output</span><span style="color:#0184BC;--shiki-dark:#56B6C2">:</span><span style="color:#383A42;--shiki-dark:#ABB2BF"> {</span></span>
<span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">		path</span><span style="color:#0184BC;--shiki-dark:#56B6C2">:</span><span style="color:#383A42;--shiki-dark:#ABB2BF"> path.</span><span style="color:#4078F2;--shiki-dark:#61AFEF">join</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(__dirname, </span><span style="color:#50A14F;--shiki-dark:#98C379">'www/dist'</span><span style="color:#383A42;--shiki-dark:#ABB2BF">),</span></span>
<span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">		publicPath</span><span style="color:#0184BC;--shiki-dark:#56B6C2">:</span><span style="color:#50A14F;--shiki-dark:#98C379"> '/dist/'</span><span style="color:#383A42;--shiki-dark:#ABB2BF">,</span></span>
<span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">		filename</span><span style="color:#0184BC;--shiki-dark:#56B6C2">:</span><span style="color:#50A14F;--shiki-dark:#98C379"> 'bundle.js'</span></span>
<span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">	}</span></span>
<span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">};</span></span></code></pre>
<p>That’s the basic setup. If you</p>
<ol>
<li>create the <code>www/js/index.js</code> file,</li>
<li>put a <code>window.alert</code> into it,</li>
<li>run <code>gulp webpack</code>, and</li>
<li>load the generated <code>dist/bundle.js</code> script into your page,</li>
</ol>
<p>it should greet you with an alert popup.</p>
<h2 id="nette-libraries">Nette libraries</h2>
<p>Now let’s wire some JS libraries commonly used with Nette: nette.ajax.js and nette-forms’s script. Here comes the first
problem: neither of them is available as an NPM package. We will have to use <a href="https://bower.io">Bower</a> to fetch them,
and <code>bower-webpack-plugin</code> to wire them into the build. The <code>bower.json</code> file is pretty simple:</p>
<pre class="astro-code astro-code-themes OneLight OneDark" style="background-color:#FAFAFA;--shiki-dark-bg:#282C34;color:#383A42;--shiki-dark:#ABB2BF; overflow-x: auto;" tabindex="0" data-language="json"><code><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">{</span></span>
<span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">	"name"</span><span style="color:#383A42;--shiki-dark:#ABB2BF">: </span><span style="color:#50A14F;--shiki-dark:#98C379">"my-project"</span><span style="color:#383A42;--shiki-dark:#ABB2BF">,</span></span>
<span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">	"dependencies"</span><span style="color:#383A42;--shiki-dark:#ABB2BF">: {</span></span>
<span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">		"nette.ajax.js"</span><span style="color:#383A42;--shiki-dark:#ABB2BF">: </span><span style="color:#50A14F;--shiki-dark:#98C379">"~2.1.0"</span><span style="color:#383A42;--shiki-dark:#ABB2BF">,</span></span>
<span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">		"nette-forms"</span><span style="color:#383A42;--shiki-dark:#ABB2BF">: </span><span style="color:#50A14F;--shiki-dark:#98C379">"~2.4.0"</span></span>
<span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">	}</span></span>
<span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">}</span></span></code></pre>
<p>Now run <code>bower install</code> in the project’s root directory (assuming you have Bower installed). Also,
<code>npm install --save bower-webpack-plugin</code>, and add the plugin to the Webpack config:</p>
<pre class="astro-code astro-code-themes OneLight OneDark" style="background-color:#FAFAFA;--shiki-dark-bg:#282C34;color:#383A42;--shiki-dark:#ABB2BF; overflow-x: auto;" tabindex="0" data-language="js"><code><span class="line"><span style="color:#A626A4;--shiki-dark:#C678DD">var</span><span style="color:#383A42;--shiki-dark:#ABB2BF"> BowerWebpackPlugin </span><span style="color:#0184BC;--shiki-dark:#56B6C2">=</span><span style="color:#4078F2;--shiki-dark:#61AFEF"> require</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#50A14F;--shiki-dark:#98C379">'bower-webpack-plugin'</span><span style="color:#383A42;--shiki-dark:#ABB2BF">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A0A1A7;font-style:italic;--shiki-dark:#5C6370;--shiki-dark-font-style:italic">// ...</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">module</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#E45649;--shiki-dark:#E06C75">exports</span><span style="color:#0184BC;--shiki-dark:#56B6C2"> =</span><span style="color:#383A42;--shiki-dark:#ABB2BF"> {</span></span>
<span class="line"><span style="color:#A0A1A7;font-style:italic;--shiki-dark:#5C6370;--shiki-dark-font-style:italic">	// ...</span></span>
<span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">	plugins</span><span style="color:#0184BC;--shiki-dark:#56B6C2">:</span><span style="color:#383A42;--shiki-dark:#ABB2BF"> [</span></span>
<span class="line"><span style="color:#A626A4;--shiki-dark:#C678DD">		new</span><span style="color:#4078F2;--shiki-dark:#61AFEF"> BowerWebpackPlugin</span><span style="color:#383A42;--shiki-dark:#ABB2BF">()</span></span>
<span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">	]</span></span>
<span class="line"><span style="color:#A0A1A7;font-style:italic;--shiki-dark:#5C6370;--shiki-dark-font-style:italic">	// ...</span></span>
<span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">};</span></span></code></pre>
<p>The second problem is that <code>nette.ajax.js</code> wires into the rest of the code <del>like shit</del> with little care about
any modular system and just expects jQuery to be in the global scope - same as the majority of jQuery plugins anyway :(
Luckily Webpack comes with a simple solution, its <code>ProvidePlugin</code>, which exposes modules as if they were global
variables. Add it into <code>webpack.config.js</code> with the following setup:</p>
<pre class="astro-code astro-code-themes OneLight OneDark" style="background-color:#FAFAFA;--shiki-dark-bg:#282C34;color:#383A42;--shiki-dark:#ABB2BF; overflow-x: auto;" tabindex="0" data-language="js"><code><span class="line"><span style="color:#A626A4;--shiki-dark:#C678DD">var</span><span style="color:#383A42;--shiki-dark:#ABB2BF"> webpack </span><span style="color:#0184BC;--shiki-dark:#56B6C2">=</span><span style="color:#4078F2;--shiki-dark:#61AFEF"> require</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#50A14F;--shiki-dark:#98C379">'webpack'</span><span style="color:#383A42;--shiki-dark:#ABB2BF">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">module</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#E45649;--shiki-dark:#E06C75">exports</span><span style="color:#0184BC;--shiki-dark:#56B6C2"> =</span><span style="color:#383A42;--shiki-dark:#ABB2BF"> {</span></span>
<span class="line"><span style="color:#A0A1A7;font-style:italic;--shiki-dark:#5C6370;--shiki-dark-font-style:italic">	// ...</span></span>
<span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">	plugins</span><span style="color:#0184BC;--shiki-dark:#56B6C2">:</span><span style="color:#383A42;--shiki-dark:#ABB2BF"> [</span></span>
<span class="line"><span style="color:#A0A1A7;font-style:italic;--shiki-dark:#5C6370;--shiki-dark-font-style:italic">		// ...</span></span>
<span class="line"><span style="color:#A626A4;--shiki-dark:#C678DD">		new</span><span style="color:#383A42;--shiki-dark:#ABB2BF"> webpack.</span><span style="color:#4078F2;--shiki-dark:#61AFEF">ProvidePlugin</span><span style="color:#383A42;--shiki-dark:#ABB2BF">({</span></span>
<span class="line"><span style="color:#50A14F;--shiki-dark:#98C379">			'window.Nette'</span><span style="color:#0184BC;--shiki-dark:#56B6C2">:</span><span style="color:#50A14F;--shiki-dark:#98C379"> 'nette-forms'</span><span style="color:#383A42;--shiki-dark:#ABB2BF">,</span></span>
<span class="line"><span style="color:#50A14F;--shiki-dark:#98C379">			'window.jQuery'</span><span style="color:#0184BC;--shiki-dark:#56B6C2">:</span><span style="color:#50A14F;--shiki-dark:#98C379"> 'jquery'</span><span style="color:#383A42;--shiki-dark:#ABB2BF">,</span></span>
<span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">			jQuery</span><span style="color:#0184BC;--shiki-dark:#56B6C2">:</span><span style="color:#50A14F;--shiki-dark:#98C379"> 'jquery'</span><span style="color:#383A42;--shiki-dark:#ABB2BF">,</span></span>
<span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">			$</span><span style="color:#0184BC;--shiki-dark:#56B6C2">:</span><span style="color:#50A14F;--shiki-dark:#98C379"> 'jquery'</span></span>
<span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">		})</span></span>
<span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">	]</span></span>
<span class="line"><span style="color:#A0A1A7;font-style:italic;--shiki-dark:#5C6370;--shiki-dark-font-style:italic">	// ...</span></span>
<span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">};</span></span></code></pre>
<p>And you’re almost done; the last piece is <code>www/js/index.js</code>, which is actually pretty straightforward - it just loads
and initializes jQuery and both libraries:</p>
<pre class="astro-code astro-code-themes OneLight OneDark" style="background-color:#FAFAFA;--shiki-dark-bg:#282C34;color:#383A42;--shiki-dark:#ABB2BF; overflow-x: auto;" tabindex="0" data-language="js"><code><span class="line"><span style="color:#4078F2;--shiki-dark:#61AFEF">require</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#50A14F;--shiki-dark:#98C379">'jquery'</span><span style="color:#383A42;--shiki-dark:#ABB2BF">);</span></span>
<span class="line"><span style="color:#4078F2;--shiki-dark:#61AFEF">require</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#50A14F;--shiki-dark:#98C379">'nette.ajax.js'</span><span style="color:#383A42;--shiki-dark:#ABB2BF">);</span></span>
<span class="line"><span style="color:#A626A4;--shiki-dark:#C678DD">var</span><span style="color:#383A42;--shiki-dark:#ABB2BF"> Nette </span><span style="color:#0184BC;--shiki-dark:#56B6C2">=</span><span style="color:#4078F2;--shiki-dark:#61AFEF"> require</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#50A14F;--shiki-dark:#98C379">'nette-forms'</span><span style="color:#383A42;--shiki-dark:#ABB2BF">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">Nette.</span><span style="color:#4078F2;--shiki-dark:#61AFEF">initOnLoad</span><span style="color:#383A42;--shiki-dark:#ABB2BF">();</span></span>
<span class="line"></span>
<span class="line"><span style="color:#4078F2;--shiki-dark:#61AFEF">$</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#A626A4;--shiki-dark:#C678DD">function</span><span style="color:#383A42;--shiki-dark:#ABB2BF"> () {</span></span>
<span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">	$.</span><span style="color:#E45649;--shiki-dark:#E06C75">nette</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#4078F2;--shiki-dark:#61AFEF">init</span><span style="color:#383A42;--shiki-dark:#ABB2BF">();</span></span>
<span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">});</span></span></code></pre>
<p>Now if you run <code>gulp webpack</code> again, the <code>dist/bundle.js</code> should give you all the functionality - <code>.ajax</code> links and
forms work asynchronously, and forms should be validated client-side via <code>nette-forms</code> script.</p>
<h2 id="final-thoughts">Final thoughts</h2>
<p>And this, my friend, is only the beginning. Webpack is a very, very powerful tool; you can use it to load not only
scripts (and not only in vanilla JS) but all kinds of assets - stylesheets, images, webfonts, etc.; you can transpile
CoffeeScript, ES6, JSX, LESS, SASS and pretty much anything you think of; you can create dev build tasks utilizing
Gulp’s file watchers or Webpack’s development server, and much more. I believe
<a href="https://webpack.github.io/docs/">Webpack’s documentation</a> has a lot of resources for inspiration.</p>
<p>Don’t forget to share your thoughts, experiences and questions in the comments below!</p> </div> <div class="comments" data-astro-cid-relfimn4> <div id="giscus-container"></div> <script type="module">const t=document.createElement("script");t.src="https://giscus.app/client.js";t.crossOrigin="anonymous";t.async=!0;t.setAttribute("data-repo","jiripudil/jiripudil.cz");t.setAttribute("data-repo-id","MDEwOlJlcG9zaXRvcnkyNTI5NzY3Nw==");t.setAttribute("data-category","Blog discussions");t.setAttribute("data-category-id","DIC_kwDOAYIDDc4CAfUM");t.setAttribute("data-mapping","og:title");t.setAttribute("data-reactions-enabled","1");t.setAttribute("data-emit-metadata","0");t.setAttribute("data-theme","preferred_color_scheme");t.setAttribute("data-lang","en");t.setAttribute("data-loading","lazy");const e=document.getElementById("giscus-container");e.appendChild(t);</script> </div> </div>  </div>   <div class="footer" data-astro-cid-sz7xmlte> <div class="container" data-astro-cid-d6puh33w> 
Content licensed under
<a href="https://creativecommons.org/licenses/by/4.0/" title="Creative Commons Attribution 4.0 International" aria-label="Creative Commons Attribution 4.0 International" data-astro-cid-sz7xmlte> <svg width="0.97em" height="1em" data-astro-cid-sz7xmlte="true" data-icon="fa6-brands:creative-commons">   <symbol id="ai:fa6-brands:creative-commons" viewBox="0 0 496 512"><path fill="currentColor" d="m245.83 214.87l-33.22 17.28c-9.43-19.58-25.24-19.93-27.46-19.93c-22.13 0-33.22 14.61-33.22 43.84c0 23.57 9.21 43.84 33.22 43.84c14.47 0 24.65-7.09 30.57-21.26l30.55 15.5c-6.17 11.51-25.69 38.98-65.1 38.98c-22.6 0-73.96-10.32-73.96-77.05c0-58.69 43-77.06 72.63-77.06c30.72-.01 52.7 11.95 65.99 35.86m143.05 0l-32.78 17.28c-9.5-19.77-25.72-19.93-27.9-19.93c-22.14 0-33.22 14.61-33.22 43.84c0 23.55 9.23 43.84 33.22 43.84c14.45 0 24.65-7.09 30.54-21.26l31 15.5c-2.1 3.75-21.39 38.98-65.09 38.98c-22.69 0-73.96-9.87-73.96-77.05c0-58.67 42.97-77.06 72.63-77.06c30.71-.01 52.58 11.95 65.56 35.86M247.56 8.05C104.74 8.05 0 123.11 0 256.05c0 138.49 113.6 248 247.56 248c129.93 0 248.44-100.87 248.44-248c0-137.87-106.62-248-248.44-248m.87 450.81c-112.54 0-203.7-93.04-203.7-202.81c0-105.42 85.43-203.27 203.72-203.27c112.53 0 202.82 89.46 202.82 203.26c-.01 121.69-99.68 202.82-202.84 202.82"/></symbol><use href="#ai:fa6-brands:creative-commons"></use>  </svg> <svg width="0.97em" height="1em" data-astro-cid-sz7xmlte="true" data-icon="fa6-brands:creative-commons-by">   <symbol id="ai:fa6-brands:creative-commons-by" viewBox="0 0 496 512"><path fill="currentColor" d="M314.9 194.4v101.4h-28.3v120.5h-77.1V295.9h-28.3V194.4c0-4.4 1.6-8.2 4.6-11.3c3.1-3.1 6.9-4.7 11.3-4.7H299c4.1 0 7.8 1.6 11.1 4.7c3.1 3.2 4.8 6.9 4.8 11.3m-101.5-63.7c0-23.3 11.5-35 34.5-35s34.5 11.7 34.5 35q0 34.5-34.5 34.5c-34.5 0-34.5-11.5-34.5-34.5M247.6 8C389.4 8 496 118.1 496 256c0 147.1-118.5 248-248.4 248C113.6 504 0 394.5 0 256C0 123.1 104.7 8 247.6 8m.8 44.7C130.2 52.7 44.7 150.6 44.7 256c0 109.8 91.2 202.8 203.7 202.8c103.2 0 202.8-81.1 202.8-202.8c.1-113.8-90.2-203.3-202.8-203.3"/></symbol><use href="#ai:fa6-brands:creative-commons-by"></use>  </svg> </a>  </div>  </div>  </body></html> 