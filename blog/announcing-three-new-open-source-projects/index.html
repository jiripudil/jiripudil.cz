<!DOCTYPE html><html lang="en"> <head><meta charset="UTF-8"><meta name="viewport" content="width=device-width"><title>Announcing three new open-source projects – Blog – Jiří Pudil</title><style>.body[data-astro-cid-relfimn4]{padding:1.5rem 0}h1[data-astro-cid-relfimn4]{text-wrap:balance}.metadata[data-astro-cid-relfimn4]{display:flex;align-items:start;justify-content:space-between;gap:1rem;margin-bottom:3rem;ul{margin:0;padding:0;list-style:none;display:flex;flex-wrap:wrap;gap:0 .5rem;font-size:.9rem;a{color:var(--body-diminished-color);&:hover{color:var(--body-text-color)}}}time{flex-shrink:0;color:var(--body-diminished-color)}}.perex[data-astro-cid-relfimn4]{font-size:1.15rem}.content[data-astro-cid-relfimn4]{h2{margin-top:3rem}h3{margin-top:2.25rem}p{text-wrap:pretty;hyphens:auto}:is(ul,ol) li{line-height:1.6;margin-bottom:.5rem}blockquote{position:relative;&:before{content:"“";position:absolute;left:-2.25rem;top:0;color:var(--body-accent-color);font-size:4rem}}img{max-width:100%;height:auto}iframe{max-width:100%;aspect-ratio:16 / 9}code{hyphens:none}.astro-code{margin:.5rem 0;padding:.5rem;font-size:.9rem;tab-size:4}}.comments[data-astro-cid-relfimn4]{margin-top:3rem}@media (max-width: 40rem){.metadata[data-astro-cid-relfimn4]{flex-direction:column;align-items:start;justify-content:start}}
</style><link rel="stylesheet" href="/_astro/about.BrkH-_VM.css"><meta name="generator" content="Astro v5.7.8"><meta name="theme-color" content="#fff" media="(prefers-color-scheme: light)"><meta name="theme-color" content="#242428" media="(prefers-color-scheme: dark)"><link rel="sitemap" href="/sitemap-index.xml"><link rel="alternate" type="application/rss+xml" title="Blog – Jiří Pudil" href="/blog/rss.xml"><link rel="alternate" type="application/rss+xml" title="Notes – Jiří Pudil" href="/notes/rss.xml"><link rel="webmention" href="https://webmention.io/jiripudil.cz/webmention"><meta name="google-site-verification" content="7fHBkeNq7LXO24W8IjCc37NT9MX-6RJxD3Co5F-bRQw"><meta property="og:site_name" content="Jiří Pudil"><meta property="og:title" content="Announcing three new open-source projects – Blog"><meta property="og:type" content="article"><meta property="article:published_time" content="2017-03-27T08:00:00.000Z"><meta property="article:tag" content="ajax"><meta property="article:tag" content="frontend"><meta property="article:tag" content="javascript"><meta property="article:tag" content="naja"><meta property="article:tag" content="neon"><meta property="article:tag" content="nettefw"><meta property="article:tag" content="open-source"><meta property="article:tag" content="php"><meta property="article:tag" content="reactjs"><meta property="article:tag" content="webpack"><link rel="manifest" href="/manifest.webmanifest"><meta name="mobile-web-app-capable" content="yes"><meta name="theme-color" media="(prefers-color-scheme: light)" content="#fff"><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#000"><meta name="application-name" content="Jiří Pudil"><link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png"><link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon-precomposed.png"><link rel="mask-icon" href="/safari-pinned-tab.svg" color="#fff"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-status-bar-style" content="black-translucent"><meta name="apple-mobile-web-app-title" content="Jiří Pudil"><link rel="icon" type="image/x-icon" href="/favicon.ico"><link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png"><link rel="icon" type="image/png" sizes="48x48" href="/favicon-48x48.png"><link rel="icon" type="image/svg+xml" href="/favicon.svg"><meta name="msapplication-TileColor" content="#fff"><meta name="msapplication-TileImage" content="/mstile-144x144.png"><meta name="msapplication-config" content="/browserconfig.xml"><link rel="yandex-tableau-widget" href="/yandex-browser-manifest.json"></head> <body> <div class="header" data-astro-cid-3ef6ksr2> <div class="container" data-astro-cid-d6puh33w>  <nav class="menu" data-astro-cid-3ef6ksr2> <ul data-astro-cid-3ef6ksr2> <li class="name" data-astro-cid-3ef6ksr2> <a href="/" title="Home" data-astro-cid-3ef6ksr2>
Jiří Pudil
</a> </li> <li data-astro-cid-3ef6ksr2> <a href="/about" data-astro-cid-3ef6ksr2>
About
</a> </li> <li data-astro-cid-3ef6ksr2> <a href="/projects" data-astro-cid-3ef6ksr2>
Projects
</a> </li> <li data-astro-cid-3ef6ksr2> <a href="/blog" class="active" data-astro-cid-3ef6ksr2>
Blog
</a> </li> <li data-astro-cid-3ef6ksr2> <a href="/notes" data-astro-cid-3ef6ksr2>
Notes
</a> </li> <li data-astro-cid-3ef6ksr2> <a href="/talks" data-astro-cid-3ef6ksr2>
Talks
</a> </li> </ul> </nav>  </div>  </div>    <div class="container" data-astro-cid-d6puh33w>  <div class="body" data-astro-cid-relfimn4> <h1 data-astro-cid-relfimn4>Announcing three new open-source projects</h1> <div class="metadata" data-astro-cid-relfimn4> <ul data-astro-cid-relfimn4> <li data-astro-cid-relfimn4><a href="/blog/tag/ajax" data-astro-cid-relfimn4>#ajax</a></li><li data-astro-cid-relfimn4><a href="/blog/tag/frontend" data-astro-cid-relfimn4>#frontend</a></li><li data-astro-cid-relfimn4><a href="/blog/tag/javascript" data-astro-cid-relfimn4>#javascript</a></li><li data-astro-cid-relfimn4><a href="/blog/tag/naja" data-astro-cid-relfimn4>#naja</a></li><li data-astro-cid-relfimn4><a href="/blog/tag/neon" data-astro-cid-relfimn4>#neon</a></li><li data-astro-cid-relfimn4><a href="/blog/tag/nettefw" data-astro-cid-relfimn4>#nettefw</a></li><li data-astro-cid-relfimn4><a href="/blog/tag/open-source" data-astro-cid-relfimn4>#open-source</a></li><li data-astro-cid-relfimn4><a href="/blog/tag/php" data-astro-cid-relfimn4>#php</a></li><li data-astro-cid-relfimn4><a href="/blog/tag/reactjs" data-astro-cid-relfimn4>#reactjs</a></li><li data-astro-cid-relfimn4><a href="/blog/tag/webpack" data-astro-cid-relfimn4>#webpack</a></li> </ul> <time datetime="2017-03-27T08:00:00.000Z" data-astro-cid-relfimn4> Mar 27, 2017 </time> </div> <p class="perex" data-astro-cid-relfimn4>I've had a really productive couple of weeks and (mostly) weekends recently. I've worked extensively on one of my side projects using modern JS stack including Webpack, faced issues here and there, and found a way to solve them. In the end, I proudly announce three new open-source packages: a modern AJAX library for Nette Framework, Neon loader for Webpack, and a library integrating the Webpack build process into Nette-powered applications.</p> <div class="content" data-astro-cid-relfimn4> <p>First of all, some context: in a part of my free time, I am a singer-songwriter. I’ve had this website,
<a href="https://herecsrymy.cz">herecsrymy.cz</a>, for about two years. The main thing I use it for is uploading my songs there
so that people can listen to them. But the user experience was suboptimal: songs were on separate pages which you had
to navigate to and then play the <code>&#x3C;audio></code> thing there. When the song finished, you hit the Back button, chose another
one, and repeated the process. It seemed somewhat annoying.</p>
<p>In recent months, I’ve been working on the website in my free time, and there it is, anew! My primary focus was to
improve the UX of listening to songs, but I couldn’t miss the opportunity, so I completely redesigned the website,
and also vastly cleaned and upgraded the whole codebase. In short, it now feels more like it’s 2017.</p>
<p>If I should pinpoint one thing, it would be the audio player, obviously. It’s a micro-application written in React
using <a href="https://github.com/goldfire/howler.js">Howler.js</a> that handles the audio playback. Although it’s not a standalone
package, the whole website’s source code is open so you can take a look
<a href="https://github.com/jiripudil/herecsrymy.cz/tree/05b616bdab9d3c47c109a699c0e1e5845f85d7e5/client/player">at the code</a>.</p>
<h2 id="a-modern-ajax-library-for-nette-framework">A modern AJAX library for Nette Framework</h2>
<p>Hand in hand with the player goes AJAX navigation through the site. With any browser navigation, the seamless playlist
player wouldn’t really make sense, so I needed a solid AJAX library. I evaluated the available options:
<a href="https://github.com/vojtech-dobes/nette.ajax.js">nette.ajax.js</a> depends on jQuery which is unnecessary, and
<a href="https://www.nittro.org">Nittro</a> seems too opinionated. I’ve had a hard time trying to customize some aspect of it
half a year ago, and it seemed that its learning curve hadn’t got any more pleasant since then for someone used to
the plug-and-play nature of ES6 modules.</p>
<p>So I decided to write my own library with two goals in mind: first, to use modern vanilla JS APIs while maintaining
compatibility with IE 10 and above, and second, to make it as easy to use but also extend as is nette.ajax.js.
The result is called <a href="https://github.com/jiripudil/Naja">Naja</a>. It integrates nicely with the modern JavaScript
ecosystem, is <a href="https://codecov.io/gh/jiripudil/Naja">thoroughly</a> <a href="https://travis-ci.org/jiripudil/Naja">tested</a>
and <a href="https://github.com/jiripudil/Naja#extension-implementation">easily</a>
<a href="https://github.com/jiripudil/herecsrymy.cz/tree/05b616bdab9d3c47c109a699c0e1e5845f85d7e5/client/app/scripts">extensible</a>.
Feel free to give it a go:</p>
<pre class="astro-code astro-code-themes OneLight OneDark" style="background-color:#FAFAFA;--shiki-dark-bg:#282C34;color:#383A42;--shiki-dark:#ABB2BF; overflow-x: auto;" tabindex="0" data-language="sh"><code><span class="line"><span style="color:#4078F2;--shiki-dark:#61AFEF">$</span><span style="color:#50A14F;--shiki-dark:#98C379"> npm</span><span style="color:#50A14F;--shiki-dark:#98C379"> install</span><span style="color:#50A14F;--shiki-dark:#98C379"> naja</span></span></code></pre>
<pre class="astro-code astro-code-themes OneLight OneDark" style="background-color:#FAFAFA;--shiki-dark-bg:#282C34;color:#383A42;--shiki-dark:#ABB2BF; overflow-x: auto;" tabindex="0" data-language="js"><code><span class="line"><span style="color:#A626A4;--shiki-dark:#C678DD">import</span><span style="color:#E45649;--shiki-dark:#E06C75"> naja</span><span style="color:#A626A4;--shiki-dark:#C678DD"> from</span><span style="color:#50A14F;--shiki-dark:#98C379"> 'naja'</span><span style="color:#383A42;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">document.</span><span style="color:#4078F2;--shiki-dark:#61AFEF">addEventListener</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#50A14F;--shiki-dark:#98C379">'DOMContentLoaded'</span><span style="color:#383A42;--shiki-dark:#ABB2BF">, naja.</span><span style="color:#E45649;--shiki-dark:#E06C75">initialize</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#4078F2;--shiki-dark:#61AFEF">bind</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(naja));</span></span></code></pre>
<h2 id="webpack-integration">Webpack integration</h2>
<p>Both on the aforementioned site and on one of my work projects, I have used Webpack to bundle the application assets.
This resulted in two more packages. First is the <a href="https://github.com/jiripudil/neon-loader"><code>neon-loader</code></a> that allows
you to load Neon files easily into the Webpack-built application so that you can e.g. share some configuration between
Nette and JS:</p>
<pre class="astro-code astro-code-themes OneLight OneDark" style="background-color:#FAFAFA;--shiki-dark-bg:#282C34;color:#383A42;--shiki-dark:#ABB2BF; overflow-x: auto;" tabindex="0" data-language="js"><code><span class="line"><span style="color:#A626A4;--shiki-dark:#C678DD">import</span><span style="color:#E45649;--shiki-dark:#E06C75"> config</span><span style="color:#A626A4;--shiki-dark:#C678DD"> from</span><span style="color:#50A14F;--shiki-dark:#98C379"> 'neon-loader!./common.config.neon'</span><span style="color:#383A42;--shiki-dark:#ABB2BF">;</span></span></code></pre>
<p>Second is <a href="https://github.com/o2ps/WebpackNetteAdapter"><code>WebpackNetteAdapter</code></a> that provides a solution to the problems
you face when having a React application inside a standard Nette application, like <em>what the hell should I write into
the <code>&#x3C;script></code> tag if I sometimes use webpack-dev-server (and sometimes not) and if file names contain cache-busting
hashes</em>. The adapter takes care of all this and exposes a handy little Latte macro for you:</p>
<pre class="astro-code astro-code-themes OneLight OneDark" style="background-color:#FAFAFA;--shiki-dark-bg:#282C34;color:#383A42;--shiki-dark:#ABB2BF; overflow-x: auto;" tabindex="0" data-language="html"><code><span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">&#x3C;</span><span style="color:#E45649;--shiki-dark:#E06C75">script</span><span style="color:#986801;--shiki-dark:#D19A66"> src</span><span style="color:#383A42;--shiki-dark:#ABB2BF">=</span><span style="color:#50A14F;--shiki-dark:#98C379">"{webpack asset.js}"</span><span style="color:#383A42;--shiki-dark:#ABB2BF">>&#x3C;/</span><span style="color:#E45649;--shiki-dark:#E06C75">script</span><span style="color:#383A42;--shiki-dark:#ABB2BF">></span></span></code></pre>
<p>You can read more on the configuration of the adapter in its README on <a href="https://github.com/o2ps/WebpackNetteAdapter">Github</a>.</p>
<h2 id="tada">Tada!</h2>
<p>The neon-loader is stable at 1.0.0 since it’s really simple when it comes to code. Naja and WebpackNetteAdapter are, at
the time of writing, in alpha and RC stages, respectively, as I’d like to get some user feedback and catch the bugs I’ve
missed before releasing stable versions.</p>
<p>Naja and neon-loader are released under the MIT license and WebpackNetteAdapter under the New BSD license. All three
of them are already used in production, so feel free to try them, submit issues and contribute via pull requests :)</p> </div> <div class="comments" data-astro-cid-relfimn4> <div id="giscus-container"></div> <script type="module">const t=document.createElement("script");t.src="https://giscus.app/client.js";t.crossOrigin="anonymous";t.async=!0;t.setAttribute("data-repo","jiripudil/jiripudil.cz");t.setAttribute("data-repo-id","MDEwOlJlcG9zaXRvcnkyNTI5NzY3Nw==");t.setAttribute("data-category","Blog discussions");t.setAttribute("data-category-id","DIC_kwDOAYIDDc4CAfUM");t.setAttribute("data-mapping","og:title");t.setAttribute("data-reactions-enabled","1");t.setAttribute("data-emit-metadata","0");t.setAttribute("data-theme","preferred_color_scheme");t.setAttribute("data-lang","en");t.setAttribute("data-loading","lazy");const e=document.getElementById("giscus-container");e.appendChild(t);</script> </div> </div>  </div>   <div class="footer" data-astro-cid-sz7xmlte> <div class="container" data-astro-cid-d6puh33w> 
Content licensed under
<a href="https://creativecommons.org/licenses/by/4.0/" title="Creative Commons Attribution 4.0 International" aria-label="Creative Commons Attribution 4.0 International" data-astro-cid-sz7xmlte> <svg width="0.97em" height="1em" data-astro-cid-sz7xmlte="true" data-icon="fa6-brands:creative-commons">   <symbol id="ai:fa6-brands:creative-commons" viewBox="0 0 496 512"><path fill="currentColor" d="m245.83 214.87l-33.22 17.28c-9.43-19.58-25.24-19.93-27.46-19.93c-22.13 0-33.22 14.61-33.22 43.84c0 23.57 9.21 43.84 33.22 43.84c14.47 0 24.65-7.09 30.57-21.26l30.55 15.5c-6.17 11.51-25.69 38.98-65.1 38.98c-22.6 0-73.96-10.32-73.96-77.05c0-58.69 43-77.06 72.63-77.06c30.72-.01 52.7 11.95 65.99 35.86m143.05 0l-32.78 17.28c-9.5-19.77-25.72-19.93-27.9-19.93c-22.14 0-33.22 14.61-33.22 43.84c0 23.55 9.23 43.84 33.22 43.84c14.45 0 24.65-7.09 30.54-21.26l31 15.5c-2.1 3.75-21.39 38.98-65.09 38.98c-22.69 0-73.96-9.87-73.96-77.05c0-58.67 42.97-77.06 72.63-77.06c30.71-.01 52.58 11.95 65.56 35.86M247.56 8.05C104.74 8.05 0 123.11 0 256.05c0 138.49 113.6 248 247.56 248c129.93 0 248.44-100.87 248.44-248c0-137.87-106.62-248-248.44-248m.87 450.81c-112.54 0-203.7-93.04-203.7-202.81c0-105.42 85.43-203.27 203.72-203.27c112.53 0 202.82 89.46 202.82 203.26c-.01 121.69-99.68 202.82-202.84 202.82"/></symbol><use href="#ai:fa6-brands:creative-commons"></use>  </svg> <svg width="0.97em" height="1em" data-astro-cid-sz7xmlte="true" data-icon="fa6-brands:creative-commons-by">   <symbol id="ai:fa6-brands:creative-commons-by" viewBox="0 0 496 512"><path fill="currentColor" d="M314.9 194.4v101.4h-28.3v120.5h-77.1V295.9h-28.3V194.4c0-4.4 1.6-8.2 4.6-11.3c3.1-3.1 6.9-4.7 11.3-4.7H299c4.1 0 7.8 1.6 11.1 4.7c3.1 3.2 4.8 6.9 4.8 11.3m-101.5-63.7c0-23.3 11.5-35 34.5-35s34.5 11.7 34.5 35q0 34.5-34.5 34.5c-34.5 0-34.5-11.5-34.5-34.5M247.6 8C389.4 8 496 118.1 496 256c0 147.1-118.5 248-248.4 248C113.6 504 0 394.5 0 256C0 123.1 104.7 8 247.6 8m.8 44.7C130.2 52.7 44.7 150.6 44.7 256c0 109.8 91.2 202.8 203.7 202.8c103.2 0 202.8-81.1 202.8-202.8c.1-113.8-90.2-203.3-202.8-203.3"/></symbol><use href="#ai:fa6-brands:creative-commons-by"></use>  </svg> </a>  </div>  </div>  </body></html> 